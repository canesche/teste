value(read_pos) == 255, length(buf) == 65025