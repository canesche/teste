value(thread) == 255, length(p) == 65025