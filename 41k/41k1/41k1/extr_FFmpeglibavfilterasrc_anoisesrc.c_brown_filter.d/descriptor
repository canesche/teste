function brown_filter double | white double | buf double *
