length(dm_state) == 100, length(old_dm_state) == 100