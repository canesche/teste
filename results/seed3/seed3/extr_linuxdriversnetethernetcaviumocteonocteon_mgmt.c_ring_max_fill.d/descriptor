function ring_max_fill unsigned int | ring_size unsigned int
