length(encoder) == 100, length(mode) == 100, length(adj_mode) == 100