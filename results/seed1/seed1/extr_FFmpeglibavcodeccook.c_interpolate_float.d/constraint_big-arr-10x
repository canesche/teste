value(gain_index) == 10, value(gain_index_next) == 10, length(buffer) == 100, length(q) == 100