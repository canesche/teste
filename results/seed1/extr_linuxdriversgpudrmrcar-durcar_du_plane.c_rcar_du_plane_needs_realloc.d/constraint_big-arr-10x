length(old_state) == 100, length(new_state) == 100