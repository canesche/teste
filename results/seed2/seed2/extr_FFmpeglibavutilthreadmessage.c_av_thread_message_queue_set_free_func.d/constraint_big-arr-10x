length(mq) == 100, length(free_func) == 100