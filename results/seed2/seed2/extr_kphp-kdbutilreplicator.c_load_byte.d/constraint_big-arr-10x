length(ptr) == 100, length(S) == 100