length(matrix) == 100, length(in) == 100, length(out) == 100