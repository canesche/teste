value(buf_max) == 10, value(c) == 10, length(buf) == 100, length(buf_length) == 100