value(dir) == 255, value(count) == 255, length(ptr) == 65025, length(xp) == 65025